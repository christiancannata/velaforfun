{% extends 'base.html.twig' %}


{% block javascripts %}
    <script src="//cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script>
    <script src="//cdn.datatables.net/plug-ins/1.10.7/integration/bootstrap/3/dataTables.bootstrap.js"></script>

    <script language="javascript">
        $(document).ready(function () {
            $('table').dataTable({
                "bFilter": false, "bLengthChange": false, "language": {
                    "url": "//cdn.datatables.net/plug-ins/1.10.7/i18n/Italian.json"
                },
                "sDom": '<lf<t>ip>'
            });
        });
    </script>
{% endblock %}

{% block title %}
    Nomi di Barca
{% endblock %}

{% block body %}


    <!-- contenuto -->
    <div class="row clearfix">
        <div class="col-md-12 column">
            <div class="category">
                <a href="#" id="back-link" class="back-link"> <span class="glyphicon glyphicon-menu-left bordered"
                                                                    aria-hidden="true"></span> </a>

                <h1>Nomi di Barca</h1>
            </div>
        </div>
    </div>

    <div class="row clearfix">
        <div class="col-md-8 column">


            <div class="row clearfix">
                <div class="col-md-12 column">


                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">


                        {% for key,lettera in barche %}
                            <div class="panel panel-primary " style="border-radius: 0px">
                                <div class="panel-heading background-celeste" style="border-radius: 0px">
                                    <h4 class="panel-title">
                                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion"
                                           href="#pannello-{{ loop.index }}"><h2
                                                    style="color:white;width:100%">{{ key }}</h2></a>
                                    </h4>
                                </div>
                                <div style="border-radius: 0px" id="pannello-{{ loop.index }}"
                                     class="panel-collapse collapse {% if loop.first %}in{% endif %}">
                                    <div class="panel-body">


                                        <div class="row clearfix">
                                            <div class="col-md-12 column crud">

                                                <div id="response-div"></div>
                                                <table class="table table-striped table-bordered">

                                                    <thead>

                                                    <tr>
                                                        <th>NOME</th>

                                                        <th>VOTI</th>

                                                        <th></th>
                                                    </tr>
                                                    </thead>

                                                    <tbody>
                                                    {% for barca in lettera %}
                                                        <tr>
                                                            <td>{{ barca.nome }}</td>
                                                            <td>{{ barca.punti }} </td>
                                                            <td>
                                                                <button style="float:right"
                                                                        class="btn btn-primary vota-{{ barca.id }}"
                                                                        onclick="vota({{ barca.id }})"
                                                                        data-id="{{ barca.id }}">Vota
                                                                </button>
                                                            </td>
                                                        </tr>
                                                    {% endfor %}
                                                    </tbody>

                                                </table>

                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>


                </div>
            </div>


        </div>

        <div class="col-md-4 column ">
            <div class="row clearfix">


                <div class="row clearfix">
                    <div class="col-md-12 column">

                        <div class="colonna-destra" style="margin-bottom: 20px">
                            <h2>Nomi di barca</h2>

                            <p> Scegli una lettera qui affianco o inserisci un nome nel modulo che trovi sopra.
                                A differenza di altre classifiche qui è possibile votare liberamente ogni voce quante
                                volte lo si ritiene opportuno in relazione all'apprezzamento del nome.
                                Anche se l'inserimento è libero l'archivio sarà comunque controllato dallo staff.
                                <br><br>
                                Grazie a tutti per la partecipazione che ha portato l'archivio a superare i 5.500 nomi
                                raccolti.
                            </p>


                        </div>


                        <div class="colonna-destra" style="margin-bottom: 20px">
                            <h2>Inserisci una nuova barca</h2>

                            <p>da far votare alla comunità di VelaForFun!</p>

                            <form action="crea" method="post" name="appbundle_nome_barca">
                                <div id="appbundle_nome_barca">
                                    <div class="form-group"><label for="appbundle_nome_barca_nome"
                                                                   class="control-label">Nome</label><input required type="text"
                                                                                                            class="form-control"
                                                                                                            name="appbundle_nome_barca[nome]"
                                                                                                            id="appbundle_nome_barca_nome">
                                    </div>
                                    <input
                                            type="hidden" class="form-control" value="0" name="appbundle_nome_barca[punti]"
                                            id="appbundle_nome_barca_punti">
                                </div>
                                <div>

                                </div>
                                <button type="submit" class="btn btn-default login hvr-glow"> <i class="fa fa-spinner fa-2x fa-spin hide"></i><span class="show">Inserisci</span></button>
                            </form>

                            <div class="response-form" ></div>
                        </div>

                    </div>


                </div>


            </div>
        </div>
        <!-- fine contenuto -->

    </div>

{% endblock %}



